<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>zset | Tedis</title>
    <meta name="description" content="">
    <link rel="icon" href="/images/favicon.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon-152x152.png">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.838cf428.css" as="style"><link rel="preload" href="/assets/js/app.0c930ad4.js" as="script"><link rel="preload" href="/assets/js/25.1c82ced2.js" as="script"><link rel="prefetch" href="/assets/js/14.330b27dd.js"><link rel="prefetch" href="/assets/js/2.c450ab5b.js"><link rel="prefetch" href="/assets/js/3.1b360cd4.js"><link rel="prefetch" href="/assets/js/4.587d3970.js"><link rel="prefetch" href="/assets/js/5.d84e540a.js"><link rel="prefetch" href="/assets/js/6.623280a7.js"><link rel="prefetch" href="/assets/js/7.939eb63d.js"><link rel="prefetch" href="/assets/js/8.ea129f7d.js"><link rel="prefetch" href="/assets/js/9.247014a5.js"><link rel="prefetch" href="/assets/js/10.05ece676.js"><link rel="prefetch" href="/assets/js/11.51eaf782.js"><link rel="prefetch" href="/assets/js/12.736b7904.js"><link rel="prefetch" href="/assets/js/13.bc4816a8.js"><link rel="prefetch" href="/assets/js/15.263a878b.js"><link rel="prefetch" href="/assets/js/16.fbbfca5a.js"><link rel="prefetch" href="/assets/js/17.66186075.js"><link rel="prefetch" href="/assets/js/18.1d080212.js"><link rel="prefetch" href="/assets/js/19.57e20801.js"><link rel="prefetch" href="/assets/js/20.8cf1ff0d.js"><link rel="prefetch" href="/assets/js/21.e9d45bfd.js"><link rel="prefetch" href="/assets/js/22.0d8f31b5.js"><link rel="prefetch" href="/assets/js/23.6c8ca2e0.js"><link rel="prefetch" href="/assets/js/24.0e6b26e1.js"><link rel="prefetch" href="/assets/js/26.34f7a594.js"><link rel="prefetch" href="/assets/js/27.8a50ff49.js"><link rel="prefetch" href="/assets/js/28.e22aea66.js"><link rel="prefetch" href="/assets/js/29.2b4f3e2b.js"><link rel="prefetch" href="/assets/js/30.8011fe8a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.838cf428.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en/" class="home-link router-link-active"><!----> <span class="site-name">Tedis</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/en/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Translations</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/zset.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/api/zset.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/myour-cc/tedis" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/en/api/" class="nav-link router-link-active">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Translations</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/api/zset.html" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en/api/zset.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div> <a href="https://github.com/myour-cc/tedis" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/en/api/" class="sidebar-link">Type interface</a></li><li><a href="/en/api/base.html" class="sidebar-link">base</a></li><li><a href="/en/api/pool.html" class="sidebar-link">pool</a></li><li><a href="/en/api/key.html" class="sidebar-link">key</a></li><li><a href="/en/api/string.html" class="sidebar-link">string</a></li><li><a href="/en/api/hash.html" class="sidebar-link">hash</a></li><li><a href="/en/api/list.html" class="sidebar-link">list</a></li><li><a href="/en/api/set.html" class="sidebar-link">set</a></li><li><a href="/en/api/zset.html" class="active sidebar-link">zset</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en/api/zset.html#zadd" class="sidebar-link">zadd</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zcard" class="sidebar-link">zcard</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zcount" class="sidebar-link">zcount</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zincrby" class="sidebar-link">zincrby</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zinterstore" class="sidebar-link">zinterstore</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zlexcount" class="sidebar-link">zlexcount</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrange" class="sidebar-link">zrange</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrangebylex" class="sidebar-link">zrangebylex</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrangebyscore" class="sidebar-link">zrangebyscore</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrank" class="sidebar-link">zrank</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrem" class="sidebar-link">zrem</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zremrangebylex" class="sidebar-link">zremrangebylex</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zremrangebyrank" class="sidebar-link">zremrangebyrank</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zremrangebyscore" class="sidebar-link">zremrangebyscore</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrevrange" class="sidebar-link">zrevrange</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrevrangebyscore" class="sidebar-link">zrevrangebyscore</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zrevrank" class="sidebar-link">zrevrank</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zscore" class="sidebar-link">zscore</a></li><li class="sidebar-sub-header"><a href="/en/api/zset.html#zunionstore" class="sidebar-link">zunionstore</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="zset"><a href="#zset" aria-hidden="true" class="header-anchor">#</a> zset</h1> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>This section of sample <code>Zset</code> as Tedis instance object, demonstration part omitted async function of the external layer</p></div> <h2 id="zadd"><a href="#zadd" aria-hidden="true" class="header-anchor">#</a> zadd</h2> <p>Adds all the specified members with the specified scores to the sorted set stored at key. It is possible to specify multiple score / member pairs. If a specified member is already a member of the sorted set, the score is updated and the element reinserted at the right position to ensure the correct ordering.</p> <p>If key does not exist, a new sorted set with the specified members as sole members is created, like if the sorted set was empty. If the key exists but does not hold a sorted set, an error is returned.</p> <p>The score values should be the string representation of a double precision floating point number. +inf and -inf values are valid values as well.</p> <p><strong>ZADD options (Redis 3.0.2 or greater)</strong></p> <p>ZADD supports a list of options, specified after the name of the key and before the first score argument. Options are:</p> <ul><li>XX: Only update elements that already exist. Never add elements.</li> <li>NX: Don't update already existing elements. Always add new elements.</li> <li>CH: Modify the return value from the number of new elements added, to the total number of elements changed (CH is an abbreviation of changed). Changed elements are new elements added and elements already existing for which the score was updated. So elements specified in the command line having the same score as they had in the past are not counted. Note: normally the return value of ZADD only counts the number of new elements added.</li> <li>INCR: When this option is specified ZADD acts like ZINCRBY. Only one score-element pair can be specified in this mode.</li></ul> <p><strong>Range of integer scores that can be expressed precisely</strong></p> <p>Redis sorted sets use a double 64-bit floating point number to represent the score. In all the architectures we support, this is represented as an IEEE 754 floating point number, that is able to represent precisely integer numbers between -(2^53) and +(2^53) included. In more practical terms, all the integers between -9007199254740992 and 9007199254740992 are perfectly representable. Larger integers, or fractions, are internally represented in exponential form, so it is possible that you get only an approximation of the decimal number, or of the very big integer, that you set as score.</p> <p><strong>Sorted sets 101</strong></p> <p>Sorted sets are sorted by their score in an ascending way. The same element only exists a single time, no repeated elements are permitted. The score can be modified both by ZADD that will update the element score, and as a side effect, its position on the sorted set, and by ZINCRBY that can be used in order to update the score relatively to its previous value.</p> <p>The current score of an element can be retrieved using the ZSCORE command, that can also be used to verify if an element already exists or not.</p> <p>For an introduction to sorted sets, see the data types page on sorted sets.</p> <p><strong>Elements with the same score</strong></p> <p>While the same element can't be repeated in a sorted set since every element is unique, it is possible to add multiple different elements having the same score. When multiple elements have the same score, they are ordered lexicographically (they are still ordered by score as a first key, however, locally, all the elements with the same score are relatively ordered lexicographically).</p> <p>The lexicographic ordering used is binary, it compares strings as array of bytes.</p> <p>If the user inserts all the elements in a sorted set with the same score (for example 0), all the elements of the sorted set are sorted lexicographically, and range queries on elements are possible using the command ZRANGEBYLEX (Note: it is also possible to query sorted sets by range of scores using ZRANGEBYSCORE).</p> <p><strong>History</strong></p> <p><code>&gt;= 2.4</code>: Accepts multiple elements. In Redis versions older than 2.4 it was possible to add or update a single member per call.</p> <h4 id="redis"><a href="#redis" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zadd" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(log(N))</code></li> <li>return:
<ul><li>The number of elements added to the sorted sets, not including elements already existing for which the score was updated.
If the INCR option is specified, the return value will be Bulk string reply:</li> <li>the new score of member (a double precision floating point number), represented as string.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;uno&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span> 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;uno&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
5<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
6<span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
7<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
8<span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis"><a href="#tedis" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zadd</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objMS<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    nxxx<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;NX&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;XX&quot;</span><span class="token punctuation">;</span>
    ch<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;CH&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zadd</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objMS<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    nxxx<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;NX&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;XX&quot;</span><span class="token punctuation">;</span>
    ch<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;CH&quot;</span><span class="token punctuation">;</span>
    incr<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;INCR&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zadd</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objMS<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    nxxx<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;NX&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;XX&quot;</span><span class="token punctuation">;</span>
    ch<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;CH&quot;</span><span class="token punctuation">;</span>
    incr<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;INCR&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  one<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  uno<span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zadd</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  two<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  three<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zcard"><a href="#zcard" aria-hidden="true" class="header-anchor">#</a> zcard</h2> <p>Returns the sorted set cardinality (number of elements) of the sorted set stored at key.</p> <h4 id="redis-2"><a href="#redis-2" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zcard" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: the cardinality (number of elements) of the sorted set, or 0 if key does not exist.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZCARD myzset
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
</code></pre></div><h4 id="tedis-2"><a href="#tedis-2" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zcard</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zcard</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zcount"><a href="#zcount" aria-hidden="true" class="header-anchor">#</a> zcount</h2> <p>Returns the number of elements in the sorted set at key with a score between min and max.</p> <h4 id="redis-3"><a href="#redis-3" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zcount" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.0.0</code></li> <li>complexity: <code>O(log(N))</code></li> <li>return: the number of elements in the specified score range.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZCOUNT myzset -inf +inf
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 3
redis<span class="token operator">&gt;</span> ZCOUNT myzset <span class="token punctuation">(</span>1 3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
</code></pre></div><h4 id="tedis-3"><a href="#tedis-3" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zcount</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+inf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zincrby"><a href="#zincrby" aria-hidden="true" class="header-anchor">#</a> zincrby</h2> <p>Increments the score of member in the sorted set stored at key by increment. If member does not exist in the sorted set, it is added with increment as its score (as if its previous score was 0.0). If key does not exist, a new sorted set with the specified member as its sole member is created.</p> <p>An error is returned when key exists but does not hold a sorted set.</p> <p>The score value should be the string representation of a numeric value, and accepts double precision floating point numbers. It is possible to provide a negative value to decrement the score.</p> <h4 id="redis-4"><a href="#redis-4" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zincrby" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(log(N))</code></li> <li>return: the new score of member (a double precision floating point number), represented as string.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZINCRBY myzset 2 <span class="token string">&quot;one&quot;</span>
<span class="token string">&quot;3&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-4"><a href="#tedis-4" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zincrby</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> increment<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> member<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zincrby</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>
</code></pre></div><h2 id="zinterstore"><a href="#zinterstore" aria-hidden="true" class="header-anchor">#</a> zinterstore</h2> <p>Computes the intersection of numkeys sorted sets given by the specified keys, and stores the result in destination. It is mandatory to provide the number of input keys (numkeys) before passing the input keys and the other (optional) arguments.</p> <p>By default, the resulting score of an element is the sum of its scores in the sorted sets where it exists. Because intersection requires an element to be a member of every given sorted set, this results in the score of every element in the resulting sorted set to be equal to the number of input sorted sets.</p> <p>If destination already exists, it is overwritten.</p> <h4 id="redis-5"><a href="#redis-5" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zinterstore" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.0.0</code></li> <li>complexity: <code>O(N*K)+O(M*log(M))</code></li> <li>return: the number of elements in the resulting sorted set at destination.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD zset1 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset1 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset2 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset2 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset2 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZINTERSTORE out 2 zset1 zset2 WEIGHTS 2 3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
redis<span class="token operator">&gt;</span> ZRANGE out 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;10&quot;</span>
</code></pre></div><h4 id="tedis-5"><a href="#tedis-5" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zinterstore</span><span class="token punctuation">(</span>destination<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> objectKW<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>PropName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> aggregate<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;SUM&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MIN&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MAX&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zinterstore</span><span class="token punctuation">(</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  zset1<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  zset3<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zlexcount"><a href="#zlexcount" aria-hidden="true" class="header-anchor">#</a> zlexcount</h2> <p>this command returns the number of elements in the sorted set at key with a value between min and max.</p> <h4 id="redis-6"><a href="#redis-6" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zlexcount" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.8.9</code></li> <li>complexity: <code>O(log(N))</code></li> <li>return: the number of elements in the specified score range.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 0 a 0 b 0 c 0 d 0 e
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 5
redis<span class="token operator">&gt;</span> ZADD myzset 0 f 0 g
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
redis<span class="token operator">&gt;</span> ZLEXCOUNT myzset - +
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 7
redis<span class="token operator">&gt;</span> ZLEXCOUNT myzset <span class="token punctuation">[</span>b <span class="token punctuation">[</span>f
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 5
</code></pre></div><h4 id="tedis-6"><a href="#tedis-6" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zlexcount</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zlexcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 7</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zlexcount</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[f&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 5</span>
</code></pre></div><h2 id="zrange"><a href="#zrange" aria-hidden="true" class="header-anchor">#</a> zrange</h2> <p>Returns the specified range of elements in the sorted set stored at key. The elements are considered to be ordered from the lowest to the highest score. Lexicographical order is used for elements with equal score.</p> <h4 id="redis-7"><a href="#redis-7" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrange" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: list of elements in the specified range (optionally with their scores, in case the WITHSCORES option is given).</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset 2 3
1<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGE myzset -2 -1
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
</code></pre></div><h4 id="tedis-7"><a href="#tedis-7" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrange</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrange</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token punctuation">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrange</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;three&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;, &quot;three&quot;];</span>
</code></pre></div><h2 id="zrangebylex"><a href="#zrangebylex" aria-hidden="true" class="header-anchor">#</a> zrangebylex</h2> <p>When all the elements in a sorted set are inserted with the same score, in order to force lexicographical ordering, this command returns all the elements in the sorted set at key with a value between min and max.</p> <p>If the elements in the sorted set have different scores, the returned elements are unspecified.</p> <h4 id="redis-8"><a href="#redis-8" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrangebylex" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.8.9</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: list of elements in the specified score range.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 0 a 0 b 0 c 0 d 0 e 0 f 0 g
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 7
redis<span class="token operator">&gt;</span> ZRANGEBYLEX myzset - <span class="token punctuation">[</span>c
1<span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYLEX myzset - <span class="token punctuation">(</span>c
1<span class="token punctuation">)</span> <span class="token string">&quot;a&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYLEX myzset <span class="token punctuation">[</span>aaa <span class="token punctuation">(</span>g
1<span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
5<span class="token punctuation">)</span> <span class="token string">&quot;f&quot;</span>
</code></pre></div><h4 id="tedis-8"><a href="#tedis-8" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrangebylex</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[aaa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(g)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;];</span>
</code></pre></div><h2 id="zrangebyscore"><a href="#zrangebyscore" aria-hidden="true" class="header-anchor">#</a> zrangebyscore</h2> <p>Returns all the elements in the sorted set at key with a score between min and max (including elements with score equal to min or max). The elements are considered to be ordered from low to high scores.</p> <p>The elements having the same score are returned in lexicographical order (this follows from a property of the sorted set implementation in Redis and does not involve further computation).</p> <h4 id="redis-9"><a href="#redis-9" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrangebyscore" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.0.5</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: list of elements in the specified score range (optionally with their scores).</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset -inf +inf
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset 1 2
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset <span class="token punctuation">(</span>1 2
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
redis<span class="token operator">&gt;</span> ZRANGEBYSCORE myzset <span class="token punctuation">(</span>1 <span class="token punctuation">(</span>2
<span class="token punctuation">(</span>empty list or set<span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-9"><a href="#tedis-9" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  withscores<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  withscores<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  withscores<span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+inf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;, &quot;two&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [];</span>
</code></pre></div><h2 id="zrank"><a href="#zrank" aria-hidden="true" class="header-anchor">#</a> zrank</h2> <p>Returns the rank of member in the sorted set stored at key, with the scores ordered from low to high. The rank (or index) is 0-based, which means that the member with the lowest score has rank 0.</p> <h4 id="redis-10"><a href="#redis-10" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrank" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.2.0</code></li> <li>complexity: <code>O(log(N)</code></li> <li>return:
<ul><li>If member exists in the sorted set, Integer reply: the rank of member.</li> <li>If member does not exist in the sorted set or key does not exist, Bulk string reply: nil.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZRANK myzset <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
redis<span class="token operator">&gt;</span> ZRANK myzset <span class="token string">&quot;four&quot;</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-10"><a href="#tedis-10" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrank</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;three&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// null</span>
</code></pre></div><h2 id="zrem"><a href="#zrem" aria-hidden="true" class="header-anchor">#</a> zrem</h2> <p>Removes the specified members from the sorted set stored at key. Non existing members are ignored.</p> <p>An error is returned when key exists and does not hold a sorted set.</p> <p><strong>History</strong></p> <p><code>&gt;= 2.4</code>: Accepts multiple elements. In Redis versions older than 2.4 it was possible to remove a single member per call.</p> <h4 id="redis-11"><a href="#redis-11" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrem" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(M*log(N))</code></li> <li>return: The number of members removed from the sorted set, not including non existing members.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZREM myzset <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-11"><a href="#tedis-11" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrem</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>members<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrem</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="zremrangebylex"><a href="#zremrangebylex" aria-hidden="true" class="header-anchor">#</a> zremrangebylex</h2> <p>this command removes all elements in the sorted set stored at key between the lexicographical range specified by min and max.</p> <h4 id="redis-12"><a href="#redis-12" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zremrangebylex" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.8.9</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: the number of elements removed.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 0 aaaa 0 b 0 c 0 d 0 e
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 5
redis<span class="token operator">&gt;</span> ZADD myzset 0 foo 0 zap 0 <span class="token function">zip</span> 0 ALPHA 0 alpha
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 5
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1
1<span class="token punctuation">)</span> <span class="token string">&quot;ALPHA&quot;</span>
 2<span class="token punctuation">)</span> <span class="token string">&quot;aaaa&quot;</span>
 3<span class="token punctuation">)</span> <span class="token string">&quot;alpha&quot;</span>
 4<span class="token punctuation">)</span> <span class="token string">&quot;b&quot;</span>
 5<span class="token punctuation">)</span> <span class="token string">&quot;c&quot;</span>
 6<span class="token punctuation">)</span> <span class="token string">&quot;d&quot;</span>
 7<span class="token punctuation">)</span> <span class="token string">&quot;e&quot;</span>
 8<span class="token punctuation">)</span> <span class="token string">&quot;foo&quot;</span>
 9<span class="token punctuation">)</span> <span class="token string">&quot;zap&quot;</span>
10<span class="token punctuation">)</span> <span class="token string">&quot;zip&quot;</span>
redis<span class="token operator">&gt;</span> ZREMRANGEBYLEX myzset <span class="token punctuation">[</span>alpha <span class="token punctuation">[</span>omega
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 6
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1
1<span class="token punctuation">)</span> <span class="token string">&quot;ALPHA&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;aaaa&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;zap&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;zip&quot;</span>
</code></pre></div><h4 id="tedis-12"><a href="#tedis-12" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zremrangebylex</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zremrangebylex</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[alpha&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;[omega&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 6</span>
</code></pre></div><h2 id="zremrangebyrank"><a href="#zremrangebyrank" aria-hidden="true" class="header-anchor">#</a> zremrangebyrank</h2> <p>Removes all elements in the sorted set stored at key with rank between start and stop. Both start and stop are 0 -based indexes with 0 being the element with the lowest score. These indexes can be negative numbers, where they indicate offsets starting at the element with the highest score. For example: -1 is the element with the highest score, -2 the element with the second highest score and so forth.</p> <h4 id="redis-13"><a href="#redis-13" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zremrangebyrank" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.0.0</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: the number of elements removed.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZREMRANGEBYRANK myzset 0 1
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-13"><a href="#tedis-13" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zremrangebyrank</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zremrangebyrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
</code></pre></div><h2 id="zremrangebyscore"><a href="#zremrangebyscore" aria-hidden="true" class="header-anchor">#</a> zremrangebyscore</h2> <p>Removes all elements in the sorted set stored at key with a score between min and max (inclusive).</p> <p>Since version 2.1.6, min and max can be exclusive</p> <h4 id="redis-14"><a href="#redis-14" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zremrangebyscore" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: the number of elements removed.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZREMRANGEBYSCORE myzset -inf <span class="token punctuation">(</span>2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZRANGE myzset 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;3&quot;</span>
</code></pre></div><h4 id="tedis-14"><a href="#tedis-14" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zremrangebyscore</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zremrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 1</span>
</code></pre></div><h2 id="zrevrange"><a href="#zrevrange" aria-hidden="true" class="header-anchor">#</a> zrevrange</h2> <p>Returns the specified range of elements in the sorted set stored at key. The elements are considered to be ordered from the highest to the lowest score. Descending lexicographical order is used for elements with equal score.</p> <h4 id="redis-15"><a href="#redis-15" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrevrange" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: list of elements in the specified range (optionally with their scores).</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZREVRANGE myzset 0 -1
1<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGE myzset 2 3
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGE myzset -2 -1
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
</code></pre></div><h4 id="tedis-15"><a href="#tedis-15" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrevrange</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrange</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token punctuation">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrange</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  start<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  stop<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
  withscores<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;WITHSCORES&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;one&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrange</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;, &quot;one&quot;];</span>
</code></pre></div><h2 id="zrevrangebyscore"><a href="#zrevrangebyscore" aria-hidden="true" class="header-anchor">#</a> zrevrangebyscore</h2> <p>Returns all the elements in the sorted set at key with a score between max and min (including elements with score equal to max or min). In contrary to the default ordering of sorted sets, for this command the elements are considered to be ordered from high to low scores.</p> <p>The elements having the same score are returned in reverse lexicographical order.</p> <h4 id="redis-16"><a href="#redis-16" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrevrangebyscore" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.2.0</code></li> <li>complexity: <code>O(log(N)+M)</code></li> <li>return: list of elements in the specified score range (optionally with their scores).</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset +inf -inf
1<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset 2 1
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset 2 <span class="token punctuation">(</span>1
1<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
redis<span class="token operator">&gt;</span> ZREVRANGEBYSCORE myzset <span class="token punctuation">(</span>2 <span class="token punctuation">(</span>1
<span class="token punctuation">(</span>empty list or set<span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-16"><a href="#tedis-16" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    limit<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
      count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    withscores<span class="token punctuation">:</span> <span class="token string">&quot;WITHSCORES&quot;</span><span class="token punctuation">;</span>
    limit<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
      count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token punctuation">{</span> <span class="token punctuation">[</span>propName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span>
  key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  max<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  min<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    limit<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      offset<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
      count<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    withscores<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token string">&quot;WITHSCORES&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;+inf&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-inf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;three&quot;, &quot;two&quot;, &quot;one&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [&quot;two&quot;];</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrangebyscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [];</span>
</code></pre></div><h2 id="zrevrank"><a href="#zrevrank" aria-hidden="true" class="header-anchor">#</a> zrevrank</h2> <p>Returns the rank of member in the sorted set stored at key, with the scores ordered from high to low. The rank (or index) is 0-based, which means that the member with the highest score has rank 0.</p> <h4 id="redis-17"><a href="#redis-17" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zrevrank" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.0.0</code></li> <li>complexity: <code>O(log(N))</code></li> <li>return:
<ul><li>If member exists in the sorted set, Integer reply: the rank of member.</li> <li>If member does not exist in the sorted set or key does not exist, Bulk string reply: nil.</li></ul></li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD myzset 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZREVRANK myzset <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 2
redis<span class="token operator">&gt;</span> ZREVRANK myzset <span class="token string">&quot;four&quot;</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
</code></pre></div><h4 id="tedis-17"><a href="#tedis-17" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zrevrank</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 2</span>
<span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zrevrank</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// null</span>
</code></pre></div><h2 id="zscore"><a href="#zscore" aria-hidden="true" class="header-anchor">#</a> zscore</h2> <p>Returns the score of member in the sorted set at key.</p> <p>If member does not exist in the sorted set, or key does not exist, nil is returned.</p> <h4 id="redis-18"><a href="#redis-18" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zscore" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 1.2.0</code></li> <li>complexity: <code>O(1)</code></li> <li>return: the score of member (a double precision floating point number), represented as string.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD myzset 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZSCORE myzset <span class="token string">&quot;one&quot;</span>
<span class="token string">&quot;1&quot;</span>
</code></pre></div><h4 id="tedis-18"><a href="#tedis-18" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zscore</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> member<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zscore</span><span class="token punctuation">(</span><span class="token string">&quot;myzset&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &quot;1&quot;</span>
</code></pre></div><h2 id="zunionstore"><a href="#zunionstore" aria-hidden="true" class="header-anchor">#</a> zunionstore</h2> <p>Computes the union of numkeys sorted sets given by the specified keys, and stores the result in destination. It is mandatory to provide the number of input keys (numkeys) before passing the input keys and the other (optional) arguments.</p> <p>By default, the resulting score of an element is the sum of its scores in the sorted sets where it exists.</p> <h4 id="redis-19"><a href="#redis-19" aria-hidden="true" class="header-anchor">#</a> <em>Redis</em> <a href="https://redis.io/commands/zunionstore" target="_blank" rel="noopener noreferrer">+<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h4> <ul><li>available: <code>&gt;= 2.0.0</code></li> <li>complexity: <code>O(N)+O(M log(M))</code></li> <li>return: the number of elements in the resulting sorted set at destination.</li> <li>examples:</li></ul> <div class="language-bash extra-class"><pre class="language-bash"><code>redis<span class="token operator">&gt;</span> ZADD zset1 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset1 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset2 1 <span class="token string">&quot;one&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset2 2 <span class="token string">&quot;two&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZADD zset2 3 <span class="token string">&quot;three&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 1
redis<span class="token operator">&gt;</span> ZUNIONSTORE out 2 zset1 zset2 WEIGHTS 2 3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> 3
redis<span class="token operator">&gt;</span> ZRANGE out 0 -1 WITHSCORES
1<span class="token punctuation">)</span> <span class="token string">&quot;one&quot;</span>
2<span class="token punctuation">)</span> <span class="token string">&quot;5&quot;</span>
3<span class="token punctuation">)</span> <span class="token string">&quot;three&quot;</span>
4<span class="token punctuation">)</span> <span class="token string">&quot;9&quot;</span>
5<span class="token punctuation">)</span> <span class="token string">&quot;two&quot;</span>
6<span class="token punctuation">)</span> <span class="token string">&quot;10&quot;</span>
</code></pre></div><h4 id="tedis-19"><a href="#tedis-19" aria-hidden="true" class="header-anchor">#</a> <em>Tedis</em></h4> <ul><li>interface:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token function">zunionstore</span><span class="token punctuation">(</span>
  destination<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  objectKW<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>PropName<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  aggregate<span class="token punctuation">:</span> <span class="token string">&quot;SUM&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MIN&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;MAX&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">:</span> Promise<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>example:</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">await</span> Zset<span class="token punctuation">.</span><span class="token function">zunionstore</span><span class="token punctuation">(</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  zset1<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  zset2<span class="token punctuation">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 3</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/myour-cc/tedis/edit/master/doc/en/api/zset.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">8/12/2018, 7:58:11 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/en/api/set.html" class="prev">
          set
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/25.1c82ced2.js" defer></script><script src="/assets/js/app.0c930ad4.js" defer></script>
  </body>
</html>
